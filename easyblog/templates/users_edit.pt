<div metal:use-macro="layout">
  <div id="column1" metal:fill-slot="content">
    <h1 i18n:translate="edit_user_header"> Edit users </h1>
    <div class="message"> ${message} </div>
    
    ${form.begin(request.url)}
    ${form.csrf_token()}
      <div class="field">
        <span class="formlabel">${form.label("search")}</span>
        <span class="forminput">${form.text("search")}</span>
      </div>
      <div class="buttons">
        <span class="forminput">${form.submit("submit", "Search")}</span>
      </div>
   
    <div tal:condition="search_results" class="result-div">
        <table class="result-table">
        <tr>
          <th></th>
          <th i18n:translate="admin_label">Admin</th>
          <th i18n:translate="editor_label">Editor</th>
          <th i18n:translate="member_label">Member</th>
        </tr>
        <tr tal:repeat="user search_results">
          <td tal:content="user.username">Username</td>
          <td><input tal:attributes="
                    checked has_group('admin', user, request);
                    value group_names['admin'];
                    name string:checkbox:${user.username}"
                    class="checkbox" type="checkbox"/>
          </td>
          <td><input tal:attributes="
                    checked has_group('editor', user, request);
                    value group_names['editor'];
                    name string:checkbox:${user.username}"
                    class="checkbox" type="checkbox"/>
          </td>
          <td><input tal:attributes="
                    checked has_group('member', user, request);
                    value group_names['member'];
                    name string:checkbox:${user.username}"
                    class="checkbox" type="checkbox"/>
          </td>
        </tr>

      </table>
      <div class="buttons">
        <span class="forminput">${form.submit("submit", "Save")}</span>
      </div>
      ${form.end()}
    </div>

        <!-- <div class="blogpost" tal:repeat="post context"> -->
        <!-- </div> -->
    </div>
</div>
